@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "~/Views/Shared/_MainLayout.cshtml";
    ViewData["Title"] = "Settings";
}

<style>
    #example-table {
        width: 600px;   /* WAJIB dibatasi */
    }
</style>

<div class="row">
    <div class="col-md-12">
        <div id="example-table"></div>
    </div>
</div>


@section Styles {
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator.min.css" rel="stylesheet">
}

@section Scripts {
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>
    <script type="text/javascript">
        // Define Test Data
        var tabledata = [
        {id:1, name:"Oli Bob", progress:12, gender:"male", rating:1, col:"red", dob:"19/02/1984", car:1, lucky_no:5},
        {id:2, name:"Mary May", progress:1, gender:"female", rating:2, col:"blue", dob:"14/05/1982", car:true, lucky_no:10},
        {id:3, name:"Christine Lobowski", progress:42, gender:"female", rating:0, col:"green", dob:"22/05/1982", car:"true", lucky_no:12},
        {id:4, name:"Brendon Philips", progress:100, gender:"male", rating:1, col:"orange", dob:"01/08/1980", lucky_no:18},
        {id:5, name:"Margret Marmajuke", progress:16, gender:"female", rating:5, col:"yellow", dob:"31/01/1999", lucky_no:33},
        {id:6, name:"Frank Harbours", progress:38, gender:"male", rating:4, col:"red", dob:"12/05/1966", car:1, lucky_no:2},
        {id:7, name:"Jamie Newhart", progress:23, gender:"male", rating:3, col:"green", dob:"14/05/1985", car:true, lucky_no:63},
        {id:8, name:"Gemma Jane", progress:60, gender:"female", rating:0, col:"red", dob:"22/05/1982", car:"true", lucky_no:72},
        {id:9, name:"Emily Sykes", progress:42, gender:"female", rating:1, col:"maroon", dob:"11/11/1970", lucky_no:44},
        {id:10, name:"James Newman", progress:73, gender:"male", rating:5, col:"red", dob:"22/03/1998", lucky_no:9},
        {id:11, name:"Martin Barryman", progress:20, gender:"male", rating:5, col:"violet", dob:"04/04/2001"},
        {id:12, name:"Jenny Green", progress:56, gender:"female", rating:4, col:"indigo", dob:"12/11/1998", car:true},
        {id:13, name:"Alan Francis", progress:90, gender:"male", rating:3, col:"blue", dob:"07/08/1972", car:true},
        {id:14, name:"John Phillips", progress:80, gender:"male", rating:1, col:"green", dob:"24/09/1950", car:true},
        {id:15, name:"Ed White", progress:70, gender:"male", rating:0, col:"yellow", dob:"19/06/1976"},
        {id:16, name:"Paul Branderson", progress:60, gender:"male", rating:5, col:"orange", dob:"01/01/1982"},
        {id:18, name:"Emma Netwon", progress:40, gender:"female", rating:4, col:"brown", dob:"07/10/1963", car:true},
        {id:19, name:"Hannah Farnsworth", progress:30, gender:"female", rating:1, col:"pink", dob:"11/02/1991"},
        {id:20, name:"Victoria Bath", progress:20, gender:"female", rating:2, col:"purple", dob:"22/03/1986"},
          {id:21, name:"Oli Bob", progress:12, gender:"male", rating:1, col:"red", dob:"19/02/1984", car:1, lucky_no:5},
        {id:22, name:"Mary May", progress:1, gender:"female", rating:2, col:"blue", dob:"14/05/1982", car:true, lucky_no:10},
        {id:23, name:"Christine Lobowski", progress:42, gender:"female", rating:0, col:"green", dob:"22/05/1982", car:"true", lucky_no:12},
        {id:24, name:"Brendon Philips", progress:100, gender:"male", rating:1, col:"orange", dob:"01/08/1980", lucky_no:18},
        {id:25, name:"Margret Marmajuke", progress:16, gender:"female", rating:5, col:"yellow", dob:"31/01/1999", lucky_no:33},
        {id:26, name:"Frank Harbours", progress:38, gender:"male", rating:4, col:"red", dob:"12/05/1966", car:1, lucky_no:2},
        {id:27, name:"Jamie Newhart", progress:23, gender:"male", rating:3, col:"green", dob:"14/05/1985", car:true, lucky_no:63},
        {id:28, name:"Gemma Jane", progress:60, gender:"female", rating:0, col:"red", dob:"22/05/1982", car:"true", lucky_no:72},
        {id:29, name:"Emily Sykes", progress:42, gender:"female", rating:1, col:"maroon", dob:"11/11/1970", lucky_no:44},
        {id:30, name:"James Newman", progress:73, gender:"male", rating:5, col:"red", dob:"22/03/1998", lucky_no:9},
        {id:31, name:"Martin Barryman", progress:20, gender:"male", rating:5, col:"violet", dob:"04/04/2001"},
        {id:32, name:"Jenny Green", progress:56, gender:"female", rating:4, col:"indigo", dob:"12/11/1998", car:true},
        {id:33, name:"Alan Francis", progress:90, gender:"male", rating:3, col:"blue", dob:"07/08/1972", car:true},
        {id:34, name:"John Phillips", progress:80, gender:"male", rating:1, col:"green", dob:"24/09/1950", car:true},
        {id:35, name:"Ed White", progress:70, gender:"male", rating:0, col:"yellow", dob:"19/06/1976"},
        {id:36, name:"Paul Branderson", progress:60, gender:"male", rating:5, col:"orange", dob:"01/01/1982"},
        {id:38, name:"Emma Netwon", progress:40, gender:"female", rating:4, col:"brown", dob:"07/10/1963", car:true},
        {id:39, name:"Hannah Farnsworth", progress:30, gender:"female", rating:1, col:"pink", dob:"11/02/1991"},
        {id:40, name:"Victoria Bath", progress:20, gender:"female", rating:2, col:"purple", dob:"22/03/1986"},
        ];

        //Define Table
        var table = new Tabulator("#example-table", {
            tooltips:true,
            addRowPos:"top",
            history:true,
            pagination:"local",
            paginationSize:7,
            movableColumns:true,
            resizableRows:true,
            data:tabledata,
            initialSort:[
                {column:"name", dir:"asc"},
            ],
            responsiveLayout:"hide",
            columns:[
                {title:"Name", field:"name", editor:"input", frozen: true},
                {title:"Task Progress", field:"progress", align:"left", formatter:"progress", editor:true},
                {title:"Gender", field:"gender", width:90, editor:"select", editorParams:{"Male":"male", "Female":"female"}},
                {title:"Rating", field:"rating", formatter:"star", align:"center", width:100, editor:true},
                {title:"Color", field:"col", width:130, editor:"input"},
                {title:"Date Of Birth", field:"dob", width:130, sorter:"date", align:"center"},
                {title:"Car", field:"car", width:80,  align:"center", formatter:"tickCross", sorter:"boolean", editor:true},
            {title:"Color", field:"col2", width:130, editor:"input"},
            {title:"Color", field:"col3", width:130, editor:"input"},
            {title:"Color", field:"col4", width:130, editor:"input"},
            {title:"Color", field:"col5", width:130, editor:"input"},
            {title:"Color", field:"col6", width:130, editor:"input"},
            {title:"Color", field:"col7", width:130, editor:"input"},
            {title:"Color", field:"col8", width:130, editor:"input"},
            {title:"Color", field:"col9", width:130, editor:"input"},
            {title:"Color", field:"col12", width:130, editor:"input"},
            {title:"Color", field:"col13", width:130, editor:"input"},
            {title:"Color", field:"col14", width:130, editor:"input"},
            {title:"Color", field:"col15", width:130, editor:"input"},
            {title:"Color", field:"col16", width:130, editor:"input"},
            {title:"Color", field:"col17", width:130, editor:"input"},
            {title:"Color", field:"col18", width:130, editor:"input"},
            {title:"Color", field:"col19", width:130, editor:"input"},
            {title:"Color", field:"col20", width:130, editor:"input"},
            ],
        });

        setTimeout(() => {
          const startTime = new Date().getTime();
          table.updateColumnDefinition('progress', {
            frozen: true
          }).then(() => {
            console.log('Time to freeze column: ' + ((new Date().getTime()) - startTime) + 'ms');
          });
        }, 500);
    </script>
}